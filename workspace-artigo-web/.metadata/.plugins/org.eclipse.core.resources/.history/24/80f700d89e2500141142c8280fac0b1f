<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title>Cadastro de Clientes</title>
</h:head>

<f:view>
	<h:body>
		<h:form>
			<p:panel id="basic" header="Cadastro de Cliente" style="margin-bottom:20px">
		        <h:panelGrid columns="2" cellpadding="10">
		            <table id="tab" style="width: 100%;">
						<tr>
							<td>Nome:</td>
							<td><h:inputText value="#{clienteMB.cliente.nameCliente}" /></td>
						</tr>
						<tr>
							<td>Data Nascimento:</td>
							<td><p:calendar value="#{clienteMB.cliente.dtNasc}" pattern="dd/MM/yyyy"></p:calendar></td>
						</tr>
						<tr>
							<td>Endereço:</td>
							<td><h:inputText value="#{clienteMB.cliente.endereco}" /></td>
						</tr>
						<tr>
							<td>Celular:</td>
							<td><h:inputText value="#{clienteMB.cliente.celular}" /></td>
						</tr>
						<tr>
							<td colspan="2">
								<h:commandButton value="Cadastrar" actionListener="#{clienteMB.salvarCliente}" />
							</td>
						</tr>
					</table> 
					</h:panelGrid>
					<br /><br />
					<h:panelGrid columns="2" cellpadding="10">
					<h:dataTable id="tabela" var="us" value="#{clienteMB.clienteList}" style="width: 100%;">
						<h:column headerText="ID" >
							<h:outputText value="#{us.idCliente}" />
						</h:column>
						<h:column headerText="Nome">
							<h:outputText value="#{us.nameCliente}" />
						</h:column>
						<h:column headerText="Data Nascimento">
							<h:outputText value="#{us.dtNasc}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</h:column>
						<h:column headerText="Endereço">
							<h:outputText value="#{us.endereco}" />
						</h:column>
						<h:column headerText="Celular">
							<h:outputText value="#{us.celular}" />
						</h:column>
						<h:column headerText=" ">
							<p:commandLink title="Remover" actionListener="#{clienteMB.removerCliente}" process="@all" update="tabela">
								Remover
								<f:setPropertyActionListener target="#{clienteMB.cliente}" value="#{us}" />
							</p:commandLink>
						</h:column>
					</p:dataTable>
				</h:panelGrid>
		    </p:panel>
		</h:form>
	</h:body>
</f:view>
</html>